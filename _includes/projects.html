<!-- Projects Start -->

<section
  id="{{ page.section-type }}"
  class="container content-section text-center"
>
  <div class="row justify-content-center">
    <div class="col-12">{{ page.content | markdownify }}</div>
 
	<div class="row justify-content-center">
        {% for project in site.projects %}
        <div class="col-md-4 col-12 mb-4 d-flex">
          <div class="project-card d-flex flex-column w-100">
			<div class="image-container">
				<img class="img-fluid base-image" src="{{ site.url }}/{{ project.image }}" alt="{{ project.title }}" width="100%" />
			</div>
            <div class="project-details mt-3">
			    {% if project.gif %}
                  <img class="img-fluid" src="{{ site.url }}/{{ project.gif }}" alt="{{ project.title }}" width="100%" />
				{% elsif project.alt_image %}
					<img class="img-fluid" src="{{ site.url }}/{{ project.alt_image }}" alt="{{ project.title }}" width="100%" />
				{% else %}
					<h4 class="text-center">{{ project.title }}</h4>
                {% endif %}
				<!-- Quick Overview -->
              {% if project.overview %}
                <p class="project-overview">{{ project.overview }}</p>
              {% endif %}
			  <div class="project-info">
			  <p>{{ project.description | markdownify }}</p>
			  <div class="d-flex flex-column align-items-center mt-auto">
              <!-- Main Project Link (e.g., download link) -->
              {% if project.link %}
                <a href="{{ project.link }}" class="btn btn-primary w-100 mb-2" target="_blank">View Project</a>
              {% endif %}
              <!-- Trailer Link (Video Link) -->
              {% if project.trailer %}
                <a href="{{ project.trailer }}" class="btn btn-secondary w-100" target="_blank">Watch Trailer</a>
              {% endif %}
			  </div>
			  </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
	</div>
  </div>
</section>

<style>
summary {
  list-style: none;
  cursor: pointer;
}

/* Prevent ugly default triangle */
summary::-webkit-details-marker {
  display: none;
}

/* Smooth transition for expansion */
.project-info {
  padding: 0;
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: max-height 0.4s ease-in-out, opacity 0.3s ease-in-out;
}

/* Expand when details is open */
details[open] .project-info {
  max-height: 500px; /* Adjust for content size */
  opacity: 1;
  padding: 10px; /* Ensure smooth appearance */
}

summary::after {
  content: "â–¼";
  display: inline-block;
  margin-left: 10px;
  transition: transform 0.3s ease;
}

details[open] summary::after {
  transform: rotate(180deg);
}

summary:hover {
  opacity: 0.8;
}

.image-container img {
  display: block;
  transition: transform 0.3s ease-in-out;
}

.project-card {
  display: flex;
  flex-direction: column;
  height: 100%; /* Make all project cards equal height */
}

.project-details {
  display: flex;
  flex-direction: column;
  flex-grow: 1; /* Allows the text to expand while keeping buttons aligned */
  justify-content: space-between; /* Pushes buttons to the bottom */
}

.project-overview {
  font-size: 0.9em;
  margin: 5px 0;
}

.project-details p {
  flex-grow: 1; /* Ensures all descriptions take up equal space */
}

.project-details .btn {
  width: 100%; /* Make all buttons the same width */
  text-align: center; /* Ensures consistent button text alignment */
}
</style>

<!-- Projects End -->